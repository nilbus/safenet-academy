<div class="container">
  <h1>SafeNet Academy</h1>
  <img class="logo" src="/logo.png">
	<%= form_for :credential, url: credentials_path, remote: true, html: { autocomplete: 'off' } do |f| %>
		<div class="signup-form">
			<%= f.text_field :name, placeholder: "Name", required: true, autocomplete: 'off' %>
			<%= f.text_field :email, placeholder: "Email", required: true, autocomplete: 'off' %>
			<%= f.password_field :password, placeholder: "Password", required: true, autocomplete: 'off' %>
			<button type="submit">Start the Class</button>
		</div>
	<% end %>

  <div id="thank-you-modal" class="thank-you-modal">
    Thank you for registering! Please have a seat.
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.querySelector("form");
      const name = document.querySelector("input#credential_name");
      const modal = document.getElementById("thank-you-modal");

      form.addEventListener("turbo:submit-end", () => {
        form.reset();
        name.focus();
        setTimeout(() => {
          modal.style.opacity = 1;
          setTimeout(() => {
            modal.style.opacity = 0;
          }, 3000);
        }, 0);
      });
    });
  </script>
</div>
